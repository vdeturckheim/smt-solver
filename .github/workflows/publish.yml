name: Build and publish
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  download-z3:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        target:
          - x64-osx-10.15.7
          - x64-ubuntu-18.04
          - x64-win
          # TODO: build from sources
    steps:
      - run: wget https://github.com/Z3Prover/z3/releases/download/z3-4.8.10/z3-4.8.10-${{ matrix.target }}.zip
      - run: ls -l